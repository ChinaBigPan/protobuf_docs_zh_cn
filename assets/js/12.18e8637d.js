(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{359:function(t,s,a){"use strict";a.r(s);var n=a(43),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"安装"}},[t._v("安装")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/protobufjs/protobuf.js#installation",target:"_blank",rel:"noopener noreferrer"}},[t._v("英文原地址"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"node-js"}},[t._v("Node.js")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" protobufjs "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("--save --save-prefix"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" protobuf "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protobufjs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("请注意")]),t._v(" "),a("p",[t._v("由于历史原因，这个库的版本控制方案与"),a("code",[t._v("semver")]),t._v("不兼容。为了保证向后兼容性，请依赖于"),a("code",[t._v("~6.A.B")]),t._v("而非"),a("code",[t._v("^6.A.B")]),t._v("(这就是为什么上面添加了"),a("code",[t._v("--save-prefix")]),t._v(")。")])]),t._v(" "),a("h2",{attrs:{id:"浏览器"}},[t._v("浏览器")]),t._v(" "),a("p",[t._v("开发:")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("//cdn.rawgit.com/dcodeIO/protobuf.js/6.X.X/dist/protobuf.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("生产：")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("//cdn.rawgit.com/dcodeIO/protobuf.js/6.X.X/dist/protobuf.min.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("strong",[t._v("要用项目所依赖的确切版本来替换版本号标记，请谨记。")])]),t._v(" "),a("p",[t._v("该库支持 CommonJS 和 AMD 加载器，并全局导出了"),a("code",[t._v("protobuf")]),t._v("。")]),t._v(" "),a("h2",{attrs:{id:"按需加载"}},[t._v("按需加载")]),t._v(" "),a("p",[t._v("在需要考虑包容量的情况下，我们还提供了"),a("a",{attrs:{href:"https://github.com/dcodeIO/protobuf.js/tree/master/dist",target:"_blank",rel:"noopener noreferrer"}},[t._v("完整库"),a("OutboundLink")],1),t._v("的简化版本(gzip 后约 19kb)，它排除了部分功能：")]),t._v(" "),a("ul",[a("li",[t._v("当仅使用 JSON 格式(比如，由"),a("a",{attrs:{href:"https://github.com/protobufjs/protobuf.js#pbjs-for-javascript",target:"_blank",rel:"noopener noreferrer"}},[t._v("pbjs"),a("OutboundLink")],1),t._v("生成)和/或反射时，可以使用不含解析器的"),a("a",{attrs:{href:"https://github.com/dcodeIO/protobuf.js/tree/master/dist/light",target:"_blank",rel:"noopener noreferrer"}},[t._v("light库"),a("OutboundLink")],1),t._v("(gzip 后约 16kb)。CommonJS 入口为:")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" protobuf "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protobufjs/light"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ul",[a("li",[t._v("当只处理静态生成的代码时，可以使用"),a("a",{attrs:{href:"https://github.com/dcodeIO/protobuf.js/tree/master/dist/minimal",target:"_blank",rel:"noopener noreferrer"}},[t._v("minimal库"),a("OutboundLink")],1),t._v("(gzip 后约 6.5kb)，它也排除了反射。CommonJS 入口为:")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" protobuf "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protobufjs/minimal"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);